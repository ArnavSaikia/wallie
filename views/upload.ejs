<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Wallpaper</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            font-family: sans-serif;
        }

        html{
            height: 100%;
        }

        body{
            min-height: 100%;
        }
    </style>
    <link rel="stylesheet" href="/styles/nav.css">
    <link rel="stylesheet" href="/styles/upload.css">
    <script src="https://kit.fontawesome.com/06b14e7a2c.js" crossorigin="anonymous"></script>
</head>
<body>
    <%- include('./partials/nav.ejs') %>
    <div class="upload-body">
        <img class="preview-img" src="template.jpg">
        <form class="form" action="/upload" method="POST">
            <input type="text" name="name" placeholder="Enter a desired name">
            <input class="url-input" type="url" name="url" placeholder="Enter the URL" required>
            <button type="submit">Submit</button>
        </form>
    </div>
</body>

<script>
    document.querySelector(".url-input").addEventListener('change',(e) => {
        const value = e.target.value;
        const img = new Image();

        img.onload = () => {
            document.querySelector(".preview-img").src = value;
        };

        img.onerror = () => {
            console.error("Invalid image URL");
        };

        img.src = value;
    })
</script>

</html>